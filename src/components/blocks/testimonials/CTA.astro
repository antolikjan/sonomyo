---
import Section from '../../ui/Section.astro'
import Row from '../../ui/Row.astro'
import Col from '../../ui/Col.astro'
import Testimonial from '../../ui/Testimonial.astro'
import { Icon } from 'astro-icon/components'
import Button from '../../ui/Button.astro'

import { ui } from '../../../i18n/ui'
import { getLangFromParams,localizePath } from '../../../i18n/utils'

const lang = getLangFromParams(Astro.params)
const t = ui[lang].cta
const contact_path = localizePath('/contact',lang)

type Props = {
  blockquote?: string
  figcaption?: string
  cite?: string
  bg?: any
  bgPosition?: 'left' | 'right' | 'center'
}

const {
  blockquote = t['text'],
  figcaption = '',
  cite = '',
  bg,
  bgPosition = 'center'
} = Astro.props
---
<Section
  id="testimonial"
  mode="light"
  bg={bg}
  bgPosition={bgPosition}
  classes="border-y border-neutral-200 dark:border-neutral-800 text-neutral-900 dark:text-neutral-50"
>

  <Row>
    <Col span="12">
      <!-- Title / Testimonial -->
      <div class="relative z-10">
        <!-- Icon above title -->
        <div class="mb-4 flex justify-center" aria-hidden="true">
          <Icon
            name="bell-alert"
            class="h-20 w-20 text-yellow-400 dark:text-yellow-300"
          />
        </div>


        <Testimonial
          blockquote={blockquote}
          align="center"
          size="lg"
          mobileSize="lg"
          classes="!leading-tight font-bold xl:text-5xl max-w-4xl mx-auto !text-neutral-900 !opacity-100 dark:!text-neutral-50"
        />
      </div>

      <!-- Rezervace button: closer to panels than title -->
      <div class="mt-4 flex justify-center">
					
			<a href={contact_path} class="flex-auto inline-flex items-center justify-center text-white">
					<Button size='lg' style='primary'>
					{t['book']}		
					</Button>
			</a>	
      </div>
    </Col>
  </Row>
</Section>

<style>
.testimonial__topicon {
  @apply inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-white/70 text-primary-700 shadow-sm ring-1 ring-neutral-200;
  @apply dark:bg-neutral-900/60 dark:text-primary-200 dark:ring-neutral-800;
}
</style>