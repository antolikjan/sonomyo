---
// Blog Post Page
// ------------
// Description: The blog post page.

// Components
// - Layout
import Layout from '../../../layouts/PostLayout.astro'
import { getCollection, render } from 'astro:content'

export async function getStaticPaths() {
  const entries = await getCollection('blog')
  const langs = ['cs', 'en'] as const

  return langs.flatMap((lang) =>
    entries.map((entry) => ({
      params: { lang, id: entry.id },   // <-- important: include lang
      props: { entry }                  // <-- important: provide entry
    }))
  )
}

const { entry } = Astro.props
const { Content } = await render(entry)
---
<Layout frontmatter={entry.data}>
  <Content />
</Layout>
