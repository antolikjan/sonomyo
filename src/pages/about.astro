---
import Layout from '../layouts/Layout.astro';
import Section from '../components/ui/Section.astro';
import Row from '../components/ui/Row.astro';
import Col from '../components/ui/Col.astro';

import { getEntry, render } from 'astro:content';

// Get the "about" entry from the "pages" collection
const entry = await getEntry('pages', 'about');

if (!entry) {
  throw new Error('Could not find src/content/pages/about.md(x)');
}

// Same pattern as the blog: render(entry)
const { Content } = await render(entry);
const frontmatter = entry.data;
---

<Layout title={frontmatter.title}>
  <!-- Top section: photo + name + blurb -->
  <Section classes="py-16">
    <Row classes="items-center gap-8">
      <Col span="4" classes="flex justify-center">
        <img
          src="/sonomyo/public/tanja_photo.png" 
          alt="Therapist portrait"
          class="rounded-2xl w-64 h-64 object-cover shadow-lg"
          loading="lazy"
        />
      </Col>

      <Col span="8">
        <h1 class="text-3xl md:text-4xl font-semibold mb-4">
          {frontmatter.title}
        </h1>
        <p class="text-lg text-neutral-600 dark:text-neutral-300 max-w-xl">
          Speech scientists and myfunctional therapist based in Prague and Ljubljana. 
        </p>
      </Col>
    </Row>
  </Section>

  <!-- Markdown body from about.md -->
  <Section classes="py-10">
    <Row>
      <Col span="12" classes="max-w-3xl mx-auto">
        <article class="prose dark:prose-invert prose-lg max-w-none">
          <Content />
        </article>
      </Col>
    </Row>
  </Section>
</Layout>